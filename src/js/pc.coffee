# データ
pc = {
  harris: {
    desc: "2011年3月に購入したPC。(最終は2011年5月)<br>何故か高性能CPUとマザーボードが故障・・・<br>AMD製のPhenomⅡx6のCPUを使用するなど、<s>部の掟を破った</s>殻を打ち破った部分が多く、スペックは過去に類を見ない贅沢なPC…のはずだが故障のため、再び買ったCPUとマザーボードの費用を相当ケチっており、デュアルコアCPUで、microATXサイズのマザーボードとなった。グラフィックはDirectX11対応の高性能すぎるモデルとなっている。よく班長が占領している。<br>今のところマイコン班唯一の7マシン<s>のはず</s>であり、皆7の軽快さに驚いている!(特にインストールにかかる時間)<br>性能はまだ疑問である。<br>ちなみにマシン名はHarrisであるが、最初はPerryになるはずだった。"
    config: {
      "OS": "Windows 7 Professional"
      "CPU": "Core 2 Duo E6600(2.4GHz*2)"
      "M/B": "AOpen 946GZ-DAG"
      "メモリ": "2GB"
      "HDD": "250GB"
      "モニタ": "19inchWIDE"
      "ドライブ": [
        "スーパーマルチドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "GeForce 8500GT"
      "サウンドカード": "M/B付属チップ"
    }
    winsat: {
      total: "4.8"
      cpu: "5.3"
      mem: "5.6"
      graphics: "4.8"
      gameGraphics: "5.0"
      hardDisc: "5.4"
    }
  }
  alecthunder: {
    desc: "2007年6月に購入したPC。<br><s>班長のせいで電源ランプが付かないということ以外は健全。</s>とっくの昔に直りました。<br>Intel製のCPUを使用するなど、<s>部の掟を破った</s>殻を打ち破った部分が多く、スペックはNebuchadnezzarⅡを凌ぐ贅沢なPC…のはずだがCPUの費用を捻出するためにマザーを相当ケチっており、マザーの電源回路が間に合うかが問題。グラフィックはAeroには高性能すぎる統合型シェーダー搭載モデルとなっている。よく班長が占領している。<br><s>今のところマイコン班唯一のVistaマシンだが、</s>誰がどう考えても性能を持て余すとしか思えない。クアッドPhenomマシン入りました。けど性能は大して変わらない。<br>ちなみにマシン名はalecthunderだが、スペルが間違っている。正しい綴りは<b>alexander</b>。"
    config: {
      "OS": "Windows Vista Home Premium"
      "CPU": "Core 2 Duo E6600(2.4GHz*2)"
      "M/B": "AOpen 946GZ-DAG"
      "メモリ": "2GB"
      "HDD": "250GB"
      "モニタ": "19inchWIDE"
      "ドライブ": [
        "スーパーマルチドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "GeForce 8500GT"
      "サウンドカード": "M/B付属チップ"
    }
    winsat: {
      total: "4.8"
      cpu: "5.3"
      mem: "5.6"
      graphics: "4.8"
      gameGraphics: "5.0"
      hardDisc: "5.4"
    }
  }
  andoropov: {
    desc: "2005年5月頃に完成した、3番目に速いマイコン班PC。Athlon64を搭載しているので、旧称は「Dempa64」だった。120GBのHDDをすべて(もちろん)正規版のWindowsXPHomeEditionが独占してある。<s>相対的にビデオカードの能力は金をケチったため、著しく能力が低くグラフィックプログラミング関係にはほとんど使えない。</s>(直後に開発が困難なことが発覚したためグラボは買い換えられまあまあのスペックは確保できている。)空冷だが非常に静か。<s>Knoppix3.9が起動できない</s>(Knoppix5.1なら可能)PIC書き込みに良く使われる。10月にKhrushchevのHDDが1台増設された。2008年からコモンダイアログの表示が遅くなるなど調子がおかしくなり、レジストリも壊れてきたのでOSを入れ替え。"
    config: {
      "OS": [
        "<s>Windows XP Home Edition SP2</s>"
        "Windows Server 2003 R2 Enterprise Edition(評価版)"
      ]
      "CPU": "Athlon64 3000+"
      "メモリ": "1GB"
      "HDD": "120GB+32GB(Khrushchevからの移植)"
      "モニタ": "17inch"
      "ドライブ": [
        "スーパーコンボドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "RADEON 9800Pro?"
      "サウンドカード": "M/B付属チップ"
    }
    winsat: {
      total: "4.8"
      cpu: "5.3"
      mem: "5.6"
      graphics: "4.8"
      gameGraphics: "5.0"
      hardDisc: "5.4"
    }
    img: "img/andoropov.jpg"
  }
  nebuchadnezzarii: {
    desc: "旧マシンのNebuchadnezzarが突如壊れたため記念祭118th直前にもかかわらず、緊急で作られた後継PC。電源とモニタがNebuchadnezzarから流用されている。マイコン班で3番目にハイスペックなPC。グラボはオンボードだがかなり高性能。マザーボードがおかしいのかBIOSの設定が間違っているのかデュアルチャネルができない。<s>なぜか</s>OSを買うお金を節約するため、VistaRC1が入れられた。なぜかLANに繋げないが、Vistaなのでよく分からない｡エアログラスも行けますよ。<br>結局、Vistaでうまく動作しないソフトが複数あったため、アクティベーション問題(時刻変更などでアクティベーション設定が壊れて制限状態でしか使えなくなった)よりVista一本路線を退けてXPとFedoraがインストールされた。なぜかFedoraではマウスカーソルが表示されない。マウスは認識されて描画だけ出来ないようで、おそらくXが問題。<br>しばらく何の問題もなく使いつづけていたが、Fedoraが6をリリースしたためインストールしようと試みたが失敗した。APICあたりがおかしいとされているが原因は不明である。そこで別のLinuxディストリビューションをインストールしようとして、openSUSEを選んだ。インストールは成功したが、HDDのパーティーションがいじくられたのかVistaのブートローダが狂ってしまい、VistaだけでなくXPのほうもVistaのブートローダが入り込んでいたため動かなくなりVistaのインストールCDでも修復は出来なかった。ただいま、Linuxしか起動しない状況が続いており、著しく作業が滞っている。一連の原因はVistaの複雑なブートシステムとLinuxインストール時のパーティーション設定の失敗によるものであるだろうが、解決策は見つかっておらず、WindowsXPの再インストールの可能性が高いが、XPのインストールCDを持っている人が既に卒業間近で学校にこなくなっており、<b>再インストールすら出来ないという最悪の状況が続いている。</b>現在は既に復活済み。<br>現在はFedora7とVineLinuxとWindowsXP Professional SP2とのトリプルブート。Fedora7では当初マウスポインタが表示だけされないという問題があったが、X Window Systemの設定ファイルを変更したら直った。"
    config: {
      "OS": [
        "Windows XP Professional SP2"
        "Fedora7, VineLinux4.1"
      ]
      "CPU": "AthlonnX2 5050e(2.5GHz*2)"
      "CPUファン": "KABUTO"
      "M/B": "ASUS M3A"
      "メモリ": "2GB"
      "HDD": "250GB"
      "モニタ": "19inchCRT"
      "ドライブ": [
        "DVDドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "GEForce 8400GS"
      "サウンドカード": "オンボード"
    }
    img: "img/nebuchadnezzarii.jpg"
  }
  rasputin: {
    desc: "マイコン班の新しいPC<br>コアが一つしか動いてなかったので初期不良を疑ったが、BIOSが対応してなかっただけだった。また、異常な程の熱は本体のファンを付け忘れた事が原因だったが依然として高いまま。<br>CPU温度はアイドル状態で55℃弱とかなり高いので、ファンの交換が必要かも?<br>RozhdestvenskiiのケースとCPUクーラーを変えたので、名前をRasputinに変えました。ケースとCPUクーラーはT中様にもらった物。CPUクーラーを取り付ける時に説明書どおりに付けると付かず、説明書と反対向きに付けるという使用の為に指を切るなどの悲惨な状況に…<br>でも、ケースとCPUクーラーで合計三万円を超えてるんですけど…"
    config: {
      "OS": [
        "Windows XP Home Edition"
        "Windows Vista Home Premium"
      ]
      "CPU": "Phenom X4 9750(2.4GHz*4)"
      "CPUクーラー": "CNPS9700 LED"
      "M/B": "ASUS M3A78-T"
      "メモリ": "2GB"
      "HDD": [
        "320GB"
        "160GB"
      ]
      "モニタ": "19inch"
      "ドライブ": [
        "スーパーマルチドライブx1"
        "<s>FDDx1</s>"
      ]
      "ビデオカード": "GEForce 8400GS"
      "サウンドカード": "M/B付属チップ"
      "ケース": "COSMOS"
    }
  }
  tiglathPileser: {
    desc: "Andoropovの前のPC。過去のGorbachev(Brezhnev)である。昔は「最新型(ITOT)」という名前だったが、Andoropovが完成して最新でなくなったのでGorbachevという名前がつけられた。<s>唯一デュアルブートとなっている(ブートの順序も変わっていてまずSolarisのMBRがでてきてからNTLDRが起動する。またNTFS上にインストールされたKNOPPIXもNTLDRから起動できる。今はSolarisではなくFedoraCoreをとおしてUbuntuがはいっている。ただし、NebuchadnezzarⅡにあるより新しい別のLinuxがあるため、これはほとんど使われない。)ストレージ付け替え頻度が非常に多く、半分ケースが空いた状態である。今はあまりない。主になぜかCGI開発に用いられる。</s><br><s>Nebuchadnezzarが壊れたため、代用PCとしてこれが使われ始めた。なお、ブラウン管モニタが非常に使いづらかったため液晶を買おうとしたところ顧問の先生から使われなくなった液晶モニタをもらった。<br>NebuchadnezzarⅡでWindowsが起動しなくなった現在、代用開発環境として使われることがある。</s><br>2007年6月にWindows再起不能になったため、再インストールされた。それ以後はなぜかIDEXONと呼ばれる。<br>サウンドドライバがないため音が鳴らない。そのためそをりや小神あきひろがMIDIを作れないと文句を言っている。ビープ音使えばいいのに…"
    config: {
      "OS": [
        "Windows XP <s>Professional</s> Home Edition"
        "<s>Ubuntu Linux</s>"
      ]
      "CPU": "AthlonXP 1800+"
      "メモリ": "1GB"
      "HDD": "160GB"
      "モニタ": "15inch"
      "ドライブ": [
        "CDドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "<s>MATROX?</s>RADEON"
      "サウンドカード": "不明"
    }
  }
  nebuchadnezzar: {
    desc: "2005年冬(?)に屑鉄と化していたPCに顧問の先生の壊れかけのPCから取り出したマザーボードを装着し、うまく動いたためそのまま完成させた、マイコン班のPC。しかし、元々壊れかけのPCからできたものであるせいかPentium4を搭載しているが異常な重さである。当初は問題なかったものの自己のマシンスペックとは考えられないほど異常なまでの遅さになってしまった。しかもケースもねじが一部喪失しておりUSBをさす時にマザーボードとケースが接触してショートし、突然落ちることがある。充分なスペックを持ちながら一番買い替えされそうなマシンである。最新の電源が搭載され非常に静か。17インチのモニタが使われている。<br>顧問の先生曰く、「<b>WindowsXP起動時に、ロゴの下のバーが右端を突き抜けて画面右まで走っていく事がある</b>」らしい。<br><br>2006年9月13日 午後4時30分頃、急逝。享年0歳であった。<br>電源ユニットは生きているが、電源スイッチを押してもM/Bがうんともすんとも言わない。CPUファンも回る気配がない。<br>半導体部品の焼損によるショート、回路パターンのショートなどによる電源ユニットの安全回路の作動が考えられる。<br>どちらにしろ生き返る可能性が極めて低いため、<s>記念祭直前という時期にも関わらずPC新調が行われる可能性が高い。</s><br>PCは新調され、電源とモニタが流用され、NebuchadnezzarⅡに置き換えられ、再度屑鉄と化した。"
    config: {
      "OS": "Windows XP Professional"
      "CPU": "Pentium4 1.6GHz"
      "メモリ": "256MB"
      "HDD": "80GB"
      "モニタ": "17inch"
      "ドライブ": [
        "CD-R/RWドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "RADEON R200"
    }
    img: "img/nebuchadnezzar.jpg"
  }
  khrushchev: {
    desc: "比較的古いPC。班長曰く「ガリガリPC」。古いゲームがたくさんおいてある。スタートメニューのオブジェクトの名前の変更が激しい。昔インターネットに繋がっていたため、ウェブのデータがわずかに残っている。「双子」である屑鉄(いまではNebuchadnezzarに改造されている)では、CPUがマザーボードの設定ミスより本当より低い周波数で動いていたため、このPCもCPUの速度が抑えられている可能性がある。HDDが異様な音を出す。ケースは非常に重い。<br>HDDを取り替えようとしたが、マザーボードが古すぎて80GBくらいでもはや対応外だった。仕方が無いのでHDDを元に戻したところブルースクリーンがでて動かなくなってしまった。直せば動くかもしれないが、起動できない以外にもさまざまな問題を抱えており、面倒くさいのでだれも手をつけず、屑鉄のまま放置されている。2007年、Alecthunderに置き換えが決定された。<br>現在は分解され、片方のHDDはAndoropovに増設、もう片方のHDDとCDドライブは他のPCに増設予定で、残りのパーツはお払い箱へ。"
    config: {
      "OS": "Windows XP Professional SP2 (起動直後ブルースクリーン、起動不能)"
      "CPU": "Celeron 700MHz(1GHzの可能性あり)"
      "メモリ": "512MB"
      "HDD": "20GBx2(うち一つは屑鉄のであった、破損可能性大)"
      "モニタ": "15inch"
      "ドライブ": [
        "CDドライブx1"
        "FDDx1"
      ]
      "ビデオカード": "不明"
      "サウンドカード": "不明"
    }
    img: "img/khrushchev.jpg"
  }
}

$("#PC").on("show.bs.modal", (e) ->
  button = $(e.relatedTarget)
  pcName = button.data("name")
  modal = $(@)
  # タイトルを設定
  modal.find("h4.modal-title").text(button.text())

  # 説明
  desc = '<div class="pc-summary col-md-6"><div class="page-header"><h2 class="h3">概要</h2></div><p>' + pc[pcName].desc + '</p></div>'

  # マシン構成のパース
  configTable = '<table class="table table-striped">'
  for key, val of pc[pcName].config
    if not $.isArray(val)
      configTable += "<tr><td>#{key}</td><td>#{val}</td></tr>"
    else
      configTable += "<tr><td rowspan='#{val.length}'>#{key}</td>"
      for v, i in val
        if i isnt 0
          configTable += "<tr>"
        configTable += "<td>#{v}</td></tr>"
  configTable += '</table>'
  config = '<div class="pc-config col-md-6"><div class="page-header"><h2 class="h3">マシン構成</h2></div>' + configTable + '</div>'

  # WinSATのパース
  winSAT = ''
  winSATD = pc[pcName].winsat
  if winSATD
    winSATTable = """
                  <table class="table table-striped">
                  <tr><td>総合評価</td><td>#{winSATD.total}</td></tr>
                  <tr><td>CPU</td><td>#{winSATD.cpu}</td></tr>
                  <tr><td>メモリ</td><td>#{winSATD.mem}</td></tr>
                  <tr><td>グラフィックス</td><td>#{winSATD.graphics}</td></tr>
                  <tr><td>ゲーム用グラフィックス</td><td>#{winSATD.gameGraphics}</td></tr>
                  <tr><td>ハードディスク</td><td>#{winSATD.hardDisc}</td></tr>
                  </table>
                  """
    winSAT += '<div class="pc-winsat col-md-6"><div class="page-header"><h2 class="h3">WinSATスコア</h2></div>' + winSATTable + '</div>'

  # 画像のパース
  img = ''
  if pc[pcName].img?
    img += '<div class="col-md-6"><img src="' + pc[pcName].img + '" class="img-responsive img-rounded"></div>'

  # 内容を適応
  modal.find(".modal-body").html('<div class="row">' + desc + config + winSAT + img + "</div>")
  return
)
